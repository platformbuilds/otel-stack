:80 {
	# Serve built assets
	root * /srv
	file_server

	# SPA fallback for client-side routing
	try_files {path} /index.html

	# Reverse proxy to your Go backend (set API_BASE via env)
	@api path /api* /healthz /readyz
	reverse_proxy @api {$API_BASE} {
		header_up Host {http.reverse_proxy.upstream.hostport}
	}

	# Cache headers
	header {
		# Donâ€™t cache HTML (fast rollbacks)
		@html path *.html
		@assets path *.js *.css *.png *.jpg *.jpeg *.gif *.svg *.woff *.woff2
		@immutable path *.js *.css

		@html Cache-Control "no-store"
		@assets Cache-Control "public, max-age=31536000, immutable"
	}
}